package com.edu.cms.UITestServise;

import org.openqa.selenium.WebDriver;
import org.openqa.selenium.support.PageFactory;

import com.edu.cms.BaseLib.*;
import com.edu.cms.UIObject.LoginPageObj;

public class LoginService {
	WebDriver driver;
	LoginPageObj lpo;
	EduBase eb ;
	LogoutService los;
//	public WebDriver getDriver() {
//		return driver;
//	}
//
//	public void setDriver(WebDriver driver) {
//		this.driver = driver;
//	}
	
	public LoginService(){
//		setDriver(DriverManager.getDriver());
	}
	
	public LoginService(WebDriver driver){
		this.driver=driver;
		lpo = new LoginPageObj(driver);
		los = new LogoutService(driver);
		eb = new EduBase(driver);
	}
	
//	LoginPageObj lpo = PageFactory.initElements(driver, LoginPageObj.class);
	
	public HomeService loginAsSuccess(String username, String password) {
//		System.out.println("element:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::"+lpo.getUsernameBox());
    	eb.clearAndTypeString(lpo.getUsernameBox(), username);
    	eb.clearAndTypeString(lpo.getPasswordBox(), password);
        eb.clickByElement(lpo.getSubmitButton());         
    	los.logOut();
        return new HomeService();
    }
    
    public LoginService loginAsFail(String username, String password) {
    	eb.clearAndTypeString(lpo.getUsernameBox(), username);
    	eb.clearAndTypeString(lpo.getPasswordBox(), password);
    	eb.clickByElement(lpo.getSubmitButton());
        return this;
    }
    
    public String getElementPresent(){
		return lpo.getErroMSG().getText();
//		return hpo.
	}


}
