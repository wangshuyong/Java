package com.wangsy.testng;

import static org.junit.Assert.assertEquals;

import org.testng.Assert;
import org.testng.annotations.AfterClass;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.DataProvider;
import org.testng.annotations.Test;
import com.edu.cms.BaseLib.ConfigurationSettings;
import com.edu.cms.BaseLib.ExcelUtils;
import com.edu.cms.UITestServise.HomeService;
import com.edu.cms.UITestServise.LoginService;

public class NewTest {
	 
    @DataProvider(name="userLogin")
    public Object[][] rangeData() {
    	return new ExcelUtils().getDataForTestNG(ConfigurationSettings.getProperty("logincasefile"),ConfigurationSettings.getProperty("test_login_data"));
    }
    
    @Test(dataProvider="userLogin")
	  public void testLogin(String userName, String passWord,String flag,String expected) throws Exception {
		  LoginService lts = new LoginService();
		  HomeService  hts = lts.init().loginAs(userName,passWord);
//			  assertEquals(expected, hts.getElementPresent());
		  if(flag=="t") {
//				  LogoutService lodt = new LogoutService();
//				  lts = lodt.logOut();
			  Assert.assertEquals(expected, hts.getElementPresent());
			  			  
		  }else if(flag=="f") {
			  System.out.println(expected);
			  System.out.println(lts.getElementPresent());
			  assertEquals(expected, lts.getElementPresent());
		  }
		  
	  }
}
